

# 注意：对于体素特征（局部特征）的提取，确实建议先进行图像和掩码的重采样，以确保图像和掩码在空间分辨率上一致。
这是因为体素特征的提取依赖于局部图像区域的精确对齐。如果图像和掩码的空间分辨率不一致，可能会影响特征提取的准确性和可重复性。

# 对于全局特征，PyRadiomics允许在参数文件（YAML文件）中直接定义重采样参数，这样可以在特征提取过程中自动调整图像的分辨率。










--------------------------------------------------------


使用enableAllFeatures()方法确实可以启用pyradiomics库中所有可用的全局特征提取，这包括基于整个图像或图像中指定区域（ROI）的计算，
如形状、第一阶统计量、纹理特征等。然而，这些特征的计算结果通常是针对整个ROI的单个值，而不是每个体素的值。

# 体素级特征提取的特殊性：
体素级特征：与全局特征不同，体素级特征提取是针对图像中每个体素或小区域进行的。这意味着对于每个体素，都会计算一组特征值，
从而生成特征图（feature maps），而不是单个数值。这些特征图可以用来分析图像中局部区域的特性，提供更细致的信息。

# 为什么要单独提取：虽然enableAllFeatures()启用了所有类型的特征计算，但默认情况下，这些计算是基于整个ROI的，而不是体素级的。
体素级特征提取需要特别的配置和处理，因为它的目的是生成每个体素的特征值，而不是整个ROI的汇总统计。
这种方法特别适用于研究图像内部的局部异质性，或者在精确医疗和目标治疗中分析特定区域的特性。

# 启用体素级特征提取：
要进行体素级特征提取，需要在特征提取器的配置中明确指定`voxelBased=True`。例如：
```
extractor = featureextractor.RadiomicsFeatureExtractor(params)
featureVector = extractor.execute(imageName, maskName, voxelBased=True)
```
这样配置后，pyradiomics将为指定ROI中的每个体素计算特征，生成一系列`特征图`，每个特征图对应一种特征。

# 结论：
全局特征提取：适用于分析整个ROI的总体特性，结果是`单个数值`。
体素级特征提取：适用于分析图像中每个体素的局部特性，结果是`特征图`。
单独进行体素级特征提取是因为它提供了不同于全局特征的信息，特别是在分析图像内部结构和局部异质性方面。这对于某些研究和临床应用来说是非常宝贵的信息。

体素级特征提取在放射组学分析中具有重要意义，因为它允许从医学图像的`每个体素（或小区域）`提取特征，而不仅仅是从整个图像或图像中的特定区域提取全局特征。
这种方法提供了更细粒度的信息，有助于深入理解图像中的局部变化和异质性，这对于某些应用场景特别重要。

# 体素级特征的意义：
`局部信息的捕捉`：体素级特征提取可以捕捉到图像中每个小区域的特征，这对于理解病变区域的微观结构和局部异质性非常有用。
`疾病诊断和预后评估`：某些疾病的诊断和预后可能与图像中的微小变化有关，这些变化可能在全局特征中不明显，但在体素级别上可以被检测到。
`治疗反应监测`：通过比较治疗前后的体素级特征变化，可以更精确地评估治疗效果，甚至在宏观上尚未表现出明显变化时就能检测到微观上的反应。
`精准放射治疗规划`：体素级特征可以用于指导放射治疗规划，通过分析肿瘤和周围组织的局部特性，优化放射剂量分布。

# 为什么要单独提取体素级特征：
不同的分析目的：全局特征和体素级特征适用于不同的分析目的。`全局特征更适合于对整体结构的分析`，而`体素级特征更适合于深入分析局部变化`。
数据量和计算复杂度：体素级特征提取会生成大量数据，因为它为图像中的每个体素或小区域生成一个特征图。这需要更多的计算资源和存储空间。
特定应用需求：某些研究或临床应用可能特别需要局部信息，而这些信息可能只能通过体素级特征提取获得。
